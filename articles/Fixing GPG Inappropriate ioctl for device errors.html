<p>
    <meta charset="utf-8">
</p>
<p>
    <meta charset="utf-8">
</p>
<h2 itemprop="name" style='margin: 0px 0px 0.5em; color: rgb(255, 120, 0); font-family: "Trebuchet MS", Tahoma, sans-serif; text-shadow: rgb(221, 221, 221) 2px 2px 2px; position: relative; border-bottom: 1px solid rgb(179, 192, 255); z-index: 2; background-color: rgb(255, 255, 255); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;'><a href="https://d.sb/2016/11/gpg-inappropriate-ioctl-for-device-errors" itemprop="url" rel="bookmark" style='text-decoration: none; color: rgb(255, 120, 0); font-family: "Trebuchet MS", Tahoma, sans-serif; text-shadow: rgb(221, 221, 221) 2px 2px 2px; position: relative;' title='Permanent link to Fixing GPG "Inappropriate ioctl for device" errors'><span style="color: rgb(0, 0, 0);">Fixing GPG &quot;Inappropriate ioctl for device&quot; errors</span></a></h2>
<p><br></p>
<p style="margin: 0px 0px 0.5em; color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Recently I moved all my sites onto a new server. I use Duplicity and Backupninja to perform weekly backups of my server. While configuring backups on the new server, I kept encountering a strange error:</p>
<div style="color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">
    <div class="syntaxhighlighter  plain" style="position: relative !important; width: 833px; margin: 1em 0px !important; overflow: auto !important; font-size: 1em !important; background-color: rgb(255, 255, 255) !important;">
        <table border="0" cellpadding="0" cellspacing="0" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 833px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
            <tbody style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                <tr style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                    <td class="gutter" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(175, 175, 175) !important;'>
                        <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>1</div>
                        <div class="line number2 index1 alt1" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>2</div>
                        <div class="line number3 index2 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>3</div>
                    </td>
                    <td class="code" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 802px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                        <div class="container" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: relative !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                            <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>Error: gpg: using &quot;D5673F3E&quot; as default secret key for signing&nbsp;</code></div>
                            <div class="line number2 index1 alt1" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>Error: gpg: signing failed: Inappropriate ioctl for device&nbsp;</code></div>
                            <div class="line number3 index2 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>Error: gpg: [stdin]: sign+encrypt failed: Inappropriate ioctl for device</code></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<p style="margin: 0px 0px 0.5em; color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">It turns out this error is due to changes in GnuPG 2.1, which only recently landed in Debian Testing. The error occurs because GnuPG 2.1 by default ignores passphrases passed in via environment variables or stdin, and is trying to show a pinentry prompt. &quot;Inappropriate ioctl for device&quot; is thrown because the Backupninja script is not running through a TTY, so there&#39;s no way to actually render the prompt.</p>
<p style="margin: 0px 0px 0.5em; color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">To solve the problem, you need to enable&nbsp;loopback&nbsp;pinentry mode. Add this to&nbsp;~/.gnupg/gpg.conf:</p>
<div style="color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">
    <div class="syntaxhighlighter  plain" style="position: relative !important; width: 833px; margin: 1em 0px !important; overflow: auto !important; font-size: 1em !important; background-color: rgb(255, 255, 255) !important;">
        <table border="0" cellpadding="0" cellspacing="0" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 833px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
            <tbody style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                <tr style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                    <td class="gutter" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(175, 175, 175) !important;'>
                        <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>1</div>
                        <div class="line number2 index1 alt1" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>2</div>
                    </td>
                    <td class="code" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 802px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                        <div class="container" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: relative !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                            <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>use-agent&nbsp;</code></div>
                            <div class="line number2 index1 alt1" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>pinentry-mode loopback</code></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<p style="margin: 0px 0px 0.5em; color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">And add this to&nbsp;~/.gnupg/gpg-agent.conf, creating the file if it doesn&#39;t already exist:</p>
<div style="color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">
    <div class="syntaxhighlighter  plain" style="position: relative !important; width: 833px; margin: 1em 0px !important; overflow: auto !important; font-size: 1em !important; background-color: rgb(255, 255, 255) !important;">
        <table border="0" cellpadding="0" cellspacing="0" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 833px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
            <tbody style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                <tr style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                    <td class="gutter" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(175, 175, 175) !important;'>
                        <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border-width: 0px 3px 0px 0px !important; border-top-style: initial !important; border-right-style: solid !important; border-bottom-style: initial !important; border-left-style: initial !important; border-top-color: initial !important; border-right-color: rgb(108, 226, 108) !important; border-bottom-color: initial !important; border-left-color: initial !important; border-image: initial !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'>1</div>
                    </td>
                    <td class="code" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: 802px; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                        <div class="container" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: relative !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important;'>
                            <div class="line number1 index0 alt2" style='border-radius: 0px !important; background: 0px 0px rgb(255, 255, 255) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; white-space: pre !important;'><code class="plain plain" style='border-radius: 0px !important; background: 0px 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; text-align: left !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; font-weight: 400 !important; font-style: normal !important; font-size: 1em !important; min-height: auto !important; color: rgb(0, 0, 0) !important;'>allow-loopback-pinentry</code></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<p style="margin: 0px 0px 0.5em; color: rgb(0, 0, 0); font-family: Verdana, sans-serif; font-size: small; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;">Then restart the agent with echo RELOADAGENT | gpg-connect-agent and you should be good to go!</p>